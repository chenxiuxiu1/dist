(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["params_categories_goods_add"],{"14e1":function(t,e,r){},2909:function(t,e,r){"use strict";function a(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,a=new Array(e);r<e;r++)a[r]=t[r];return a}function o(t){if(Array.isArray(t))return a(t)}r.d(e,"a",(function(){return l}));r("a4d3"),r("e01a"),r("d3b7"),r("d28b"),r("3ca3"),r("ddb0"),r("a630");function n(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}r("fb6a"),r("b0c0");function i(t,e){if(t){if("string"===typeof t)return a(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?a(t,e):void 0}}function s(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function l(t){return o(t)||n(t)||i(t)||s()}},"4df4":function(t,e,r){"use strict";var a=r("0366"),o=r("7b0b"),n=r("9bdd"),i=r("e95a"),s=r("50c4"),l=r("8418"),c=r("35a1");t.exports=function(t){var e,r,u,d,f,p,m=o(t),b="function"==typeof this?this:Array,g=arguments.length,v=g>1?arguments[1]:void 0,h=void 0!==v,y=c(m),_=0;if(h&&(v=a(v,g>2?arguments[2]:void 0,2)),void 0==y||b==Array&&i(y))for(e=s(m.length),r=new b(e);e>_;_++)p=h?v(m[_],_):m[_],l(r,_,p);else for(d=y.call(m),f=d.next,r=new b;!(u=f.call(d)).done;_++)p=h?n(d,v,[u.value,_],!0):u.value,l(r,_,p);return r.length=_,r}},"5f2a":function(t,e,r){"use strict";r.r(e);var a=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"add-container"},[r("el-card",{staticClass:"box-card"},[r("el-alert",{attrs:{title:"添加商品信息",type:"info",center:"","show-icon":""}}),r("el-steps",{attrs:{active:t.activeName-0}},[r("el-step",{attrs:{title:"基本信息"}}),r("el-step",{attrs:{title:"商品参数"}}),r("el-step",{attrs:{title:"商品属性"}}),r("el-step",{attrs:{title:"商品图片"}}),r("el-step",{attrs:{title:"商品内容"}}),r("el-step",{attrs:{title:"完成"}})],1),r("el-tabs",{staticStyle:{height:"200px"},attrs:{"tab-position":t.tabPosition,"before-leave":t.beforeleave},model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},[r("el-tab-pane",{attrs:{label:"基本信息",name:"0"}},[r("el-form",{ref:"form",attrs:{model:t.form,rules:t.rules}},[r("el-form-item",{attrs:{label:"商品名称","label-width":t.formLabelWidth,prop:"goods_name"}},[r("el-input",{attrs:{autocomplete:"off"},model:{value:t.form.goods_name,callback:function(e){t.$set(t.form,"goods_name",e)},expression:"form.goods_name"}})],1),r("el-form-item",{attrs:{label:"商品价格",prop:"goods_price","label-width":t.formLabelWidth}},[r("el-input",{attrs:{autocomplete:"off"},model:{value:t.form.goods_price,callback:function(e){t.$set(t.form,"goods_price",e)},expression:"form.goods_price"}})],1),r("el-form-item",{attrs:{label:"商品重量","label-width":t.formLabelWidth,prop:"goods_weight"}},[r("el-input",{attrs:{autocomplete:"off"},model:{value:t.form.goods_weight,callback:function(e){t.$set(t.form,"goods_weight",e)},expression:"form.goods_weight"}})],1),r("el-form-item",{attrs:{label:"商品数量","label-width":t.formLabelWidth,prop:"goods_number"}},[r("el-input",{attrs:{autocomplete:"off"},model:{value:t.form.goods_number,callback:function(e){t.$set(t.form,"goods_number",e)},expression:"form.goods_number"}})],1),r("el-form-item",{attrs:{label:"商品分类","label-width":t.formLabelWidth,prop:"mobile"}}),r("el-form-item",{attrs:{label:""}},[r("el-cascader",{attrs:{options:t.options,props:t.props},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}})],1),t._v("==========="+t._s(t.value)+"=========="+t._s(t.flag)+" ")],1)],1),r("el-tab-pane",{attrs:{label:"商品参数",name:"1"}},t._l(t.onlyarr,(function(e){return r("el-button",{key:e.attr_id,attrs:{type:"success"}},[t._v(t._s(e.attr_value))])})),1),r("el-tab-pane",{attrs:{label:"商品属性",name:"2"}},[r("ul",t._l(t.manyarr,(function(e,a){return r("li",{key:a},[r("h4",{staticStyle:{"margin-bottom":"20px"}},[t._v(" "+t._s(e.attr_id)+" ")]),t._l(e.attr_value.split(","),(function(e,a){return r("div",{key:a,staticStyle:{"margin-bottom":"20px"}},[t._v(" "+t._s(e)+" ")])}))],2)})),0)]),r("el-tab-pane",{attrs:{label:"商品图片",name:"3"}},[r("el-upload",{staticClass:"upload-demo",attrs:{action:"http://192.168.68.23:8080/api/private/v1/upload","on-success":t.success,"file-list":t.fileList,"list-type":"picture",headers:t.headers}},[r("el-button",{attrs:{size:"small",type:"primary"}},[t._v("点击上传")]),r("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"})],1)],1),r("el-tab-pane",{attrs:{label:"商品内容",name:"4"}},[r("quillEditor"),r("el-button",{staticClass:"addroles",attrs:{type:"primary"},on:{click:t.addgoods}},[t._v("添加商品")])],1)],1)],1)],1)},o=[],n=r("2909"),i=r("1da1"),s=r("ade3"),l=(r("96cf"),r("d3b7"),r("d81d"),r("a15b"),r("99af"),r("a753"),r("8096"),r("14e1"),r("18d9")),c={components:{quillEditor:l["quillEditor"]},name:"",data:function(){var t;return{disabled:!1,tabPosition:"left",activeName:"0",fileList:[],headers:{Authorization:localStorage.getItem("token")},form:{goods_name:"",goods_price:"",goods_number:"",goods_weight:"",goods_cat:"",goods_introduce:"",attrs:[],pics:[]},onlyarr:[],manyarr:[],formLabelWidth:"100px",options:[],value:[],props:{label:"cat_name",children:"children",value:"cat_id"},rules:(t={goods_name:[{required:!0,message:"请输入商品名称",trigger:"blur"},{min:3,max:5,message:"长度在 3 到 5 个字符",trigger:"blur"}],goods_price:[{required:!0,message:"请输入价格",trigger:"blur"}]},Object(s["a"])(t,"goods_price",[{required:!0,message:"请输入价格",trigger:"blur"}]),Object(s["a"])(t,"goods_price",[{required:!0,message:"请输入价格",trigger:"blur"}]),t)}},created:function(){this.getfenleidata()},methods:{beforeleave:function(t,e){var r=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){var a,o,n,i,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(r.flag){e.next=3;break}return r.$message({showClose:!0,message:"请选择商品分类",type:"error"}),e.abrupt("return",new Promise);case 3:if(1!=t){e.next=10;break}return a=r.value[r.value.length-1],e.next=7,r.$http.get("categories/".concat(a,"/attributes"),{params:{sel:"only"}});case 7:o=e.sent,n=o.data.data.map((function(t){return{attr_id:t.attr_id,attr_value:t.attr_vals}})),r.onlyarr=n;case 10:if(2!=t){e.next=17;break}return a=r.value[r.value.length-1],e.next=14,r.$http.get("categories/".concat(a,"/attributes"),{params:{sel:"many"}});case 14:i=e.sent,s=i.data.data.map((function(t){return{attr_id:t.attr_id,attr_value:t.attr_vals}})),r.manyarr=s;case 17:case"end":return e.stop()}}),e)})))()},success:function(t,e,r){200==t.meta.status&&(this.$message({message:"图片上传成功",type:"success"}),this.form.pics.push({pic:t.data.tmp_path}))},getfenleidata:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){var r,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$http.get("categories",{params:{type:3}});case 2:r=e.sent,a=r.data.data,t.options=a;case 5:case"end":return e.stop()}}),e)})))()},addgoods:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.form.goods_cat=t.value.join(),t.form.attrs=[].concat(Object(n["a"])(t.onlyarr),Object(n["a"])(t.manyarr)),e.next=4,t.$http.post("goods",t.form);case 4:e.sent;case 5:case"end":return e.stop()}}),e)})))()}},computed:{flag:function(){return 3==this.value.length}}},u=c,d=(r("8437"),r("2877")),f=Object(d["a"])(u,a,o,!1,null,"aaa843bc",null);e["default"]=f.exports},"6fa8":function(t,e,r){},8096:function(t,e,r){},8437:function(t,e,r){"use strict";r("6fa8")},"99af":function(t,e,r){"use strict";var a=r("23e7"),o=r("d039"),n=r("e8b5"),i=r("861d"),s=r("7b0b"),l=r("50c4"),c=r("8418"),u=r("65f0"),d=r("1dde"),f=r("b622"),p=r("2d00"),m=f("isConcatSpreadable"),b=9007199254740991,g="Maximum allowed index exceeded",v=p>=51||!o((function(){var t=[];return t[m]=!1,t.concat()[0]!==t})),h=d("concat"),y=function(t){if(!i(t))return!1;var e=t[m];return void 0!==e?!!e:n(t)},_=!v||!h;a({target:"Array",proto:!0,forced:_},{concat:function(t){var e,r,a,o,n,i=s(this),d=u(i,0),f=0;for(e=-1,a=arguments.length;e<a;e++)if(n=-1===e?i:arguments[e],y(n)){if(o=l(n.length),f+o>b)throw TypeError(g);for(r=0;r<o;r++,f++)r in n&&c(d,f,n[r])}else{if(f>=b)throw TypeError(g);c(d,f++,n)}return d.length=f,d}})},"9bdd":function(t,e,r){var a=r("825a"),o=r("2a62");t.exports=function(t,e,r,n){try{return n?e(a(r)[0],r[1]):e(r)}catch(i){throw o(t),i}}},a15b:function(t,e,r){"use strict";var a=r("23e7"),o=r("44ad"),n=r("fc6a"),i=r("a640"),s=[].join,l=o!=Object,c=i("join",",");a({target:"Array",proto:!0,forced:l||!c},{join:function(t){return s.call(n(this),void 0===t?",":t)}})},a630:function(t,e,r){var a=r("23e7"),o=r("4df4"),n=r("1c7e"),i=!n((function(t){Array.from(t)}));a({target:"Array",stat:!0,forced:i},{from:o})},a753:function(t,e,r){},ade3:function(t,e,r){"use strict";function a(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}r.d(e,"a",(function(){return a}))},b0c0:function(t,e,r){var a=r("83ab"),o=r("9bf2").f,n=Function.prototype,i=n.toString,s=/^\s*function ([^ (]*)/,l="name";a&&!(l in n)&&o(n,l,{configurable:!0,get:function(){try{return i.call(this).match(s)[1]}catch(t){return""}}})},d28b:function(t,e,r){var a=r("746f");a("iterator")},d81d:function(t,e,r){"use strict";var a=r("23e7"),o=r("b727").map,n=r("1dde"),i=n("map");a({target:"Array",proto:!0,forced:!i},{map:function(t){return o(this,t,arguments.length>1?arguments[1]:void 0)}})},e01a:function(t,e,r){"use strict";var a=r("23e7"),o=r("83ab"),n=r("da84"),i=r("5135"),s=r("861d"),l=r("9bf2").f,c=r("e893"),u=n.Symbol;if(o&&"function"==typeof u&&(!("description"in u.prototype)||void 0!==u().description)){var d={},f=function(){var t=arguments.length<1||void 0===arguments[0]?void 0:String(arguments[0]),e=this instanceof f?new u(t):void 0===t?u():u(t);return""===t&&(d[e]=!0),e};c(f,u);var p=f.prototype=u.prototype;p.constructor=f;var m=p.toString,b="Symbol(test)"==String(u("test")),g=/^Symbol\((.*)\)[^)]+$/;l(p,"description",{configurable:!0,get:function(){var t=s(this)?this.valueOf():this,e=m.call(t);if(i(d,t))return"";var r=b?e.slice(7,-1):e.replace(g,"$1");return""===r?void 0:r}}),a({global:!0,forced:!0},{Symbol:f})}},fb6a:function(t,e,r){"use strict";var a=r("23e7"),o=r("861d"),n=r("e8b5"),i=r("23cb"),s=r("50c4"),l=r("fc6a"),c=r("8418"),u=r("b622"),d=r("1dde"),f=d("slice"),p=u("species"),m=[].slice,b=Math.max;a({target:"Array",proto:!0,forced:!f},{slice:function(t,e){var r,a,u,d=l(this),f=s(d.length),g=i(t,f),v=i(void 0===e?f:e,f);if(n(d)&&(r=d.constructor,"function"!=typeof r||r!==Array&&!n(r.prototype)?o(r)&&(r=r[p],null===r&&(r=void 0)):r=void 0,r===Array||void 0===r))return m.call(d,g,v);for(a=new(void 0===r?Array:r)(b(v-g,0)),u=0;g<v;g++,u++)g in d&&c(a,u,d[g]);return a.length=u,a}})}}]);
//# sourceMappingURL=params_categories_goods_add.7236aac9.js.map